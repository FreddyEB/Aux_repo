<div class="container mt-3">
  <div class="card">
    <div class="card-header bg-primary text-white">
      <h1 class="card-title">User Name: <%= @user.name %></h1>
    </div>
    <div class="card-body">
      <h2 class="card-title">User E-mail: <%= @user.email %></h2>

      <div class="mt-4">
        <h3>Teams</h3>
        <ul class="list-group">
          <% @teams.each do |team| %>
            <li class="list-group-item">
              <strong><%= link_to team.name, team_path(team) %></strong>
            </li>
          <% end %>
        </ul>
      </div>

      <div class="mt-4">
        <h3>Tasks</h3>
        <ul class="list-group">
          <% @tasks.each do |task| %>
            <li class="list-group-item">
              <strong><%= link_to task.title, task_path(task) %></strong> - <%= task.description %>
            </li>
          <% end %>
        </ul>
      </div>
    </div>
    <% if current_user == @user %>
      <%= link_to 'Destroy User', @user, method: :delete, data: {turbo_method: :delete, turbo_confirm: 'Are you sure?' }, class: 'btn btn-danger mt-3' %>
      <%= link_to 'Edit User', edit_user_registration_path, class: 'btn btn-info mt-3' %>
    <% else %>
      <div class="card-body d-flex justify-content-center align-items-center centered-message">
        <p><strong>You are not authorized to delete or edit this user</strong></p>
      </div>
    <% end %>
  </div>
</div>
